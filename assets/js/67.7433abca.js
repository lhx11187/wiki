(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{423:function(s,a,t){"use strict";t.r(a);var n=t(42),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"proxychains"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#proxychains"}},[s._v("#")]),s._v(" proxychains")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/rofl0r/proxychains-ng",target:"_blank",rel:"noopener noreferrer"}},[s._v("proxychains-ng"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.hi-linux.com/posts/48321.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("通过 ProxyChains-NG 实现终端下任意应用代理"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("proxychains-ng 是 proxychains 的加强版，主要有以下功能和不足：")]),s._v(" "),t("ul",[t("li",[s._v("支持http/https/socks4/socks5")]),s._v(" "),t("li",[s._v("支持认证")]),s._v(" "),t("li",[s._v("远端dns查询")]),s._v(" "),t("li",[s._v("多种代理模式")]),s._v(" "),t("li",[s._v("不支持udp/icmp转发")]),s._v(" "),t("li",[s._v("少部分程序和在后台运行的可能无法代理")])]),s._v(" "),t("p",[s._v("编译")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone --depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" https://github.com/rofl0r/proxychains-ng\n./configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr --sysconfdir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" install-config\n")])])]),t("p",[s._v("配置")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("quiet_mode\ndynamic_chain\nchain_len "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#round_robin_chain和random_chain使用")]),s._v("\nproxy_dns\nremote_dns_subnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("224")]),s._v("\ntcp_read_time_out "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15000")]),s._v("\ntcp_connect_time_out "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8000")]),s._v("\nlocalnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.0/255.0.0.0\nlocalnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),s._v(".0.0/255.0.0.0\nlocalnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.0/255.240.0.0\nlocalnet "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.0/255.255.0.0\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ProxyList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nsocks5  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1086")]),s._v("\nhttp    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1087")]),s._v("\n")])])]),t("p",[s._v("proxychains-ng 支持多种代理模式,默认是选择 strict_chain。")]),s._v(" "),t("ul",[t("li",[s._v("dynamic_chain ：动态模式，按照代理列表顺序自动选取可用代理")]),s._v(" "),t("li",[s._v("strict_chain ：严格模式，严格按照代理列表顺序使用代理，所有代理必须可用")]),s._v(" "),t("li",[s._v("round_robin_chain ：轮询模式，自动跳过不可用代理")]),s._v(" "),t("li",[s._v("random_chain ：随机模式，随机使用代理")])]),s._v(" "),t("p",[s._v("使用")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ proxychains4 程序 参数\n")])])]),t("p",[s._v("alias")]),s._v(" "),t("p",[s._v("给 proxychains4 增加一个别名，在 "),t("code",[s._v(".zshrc")]),s._v(" 或 "),t("code",[s._v(".bashrc")]),s._v(" 末尾加入如下行：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pc")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proxychains4'")]),s._v("\n")])])]),t("p",[s._v("以后就可以类似 "),t("code",[s._v("$ pc curl http://www.google.com")]),s._v(" 这样调用 proxychains4，简化了输入。")]),s._v(" "),t("p",[s._v("终端的全局代理")]),s._v(" "),t("p",[s._v("手动设置环境变量")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PROXYCHAINS_CONF_FILE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/proxychains.conf\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LD_PRELOAD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/lib/libproxychains4.so\n")])])]),t("p",[s._v("proxychains-ng 直接调用 SHELL")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" proxychains4 -q /bin/bash\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);