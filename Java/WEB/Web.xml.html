<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web.xml | 偷影子的人</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="让一切优异的品质成为你的习惯。">
    
    <link rel="preload" href="/assets/css/0.styles.fab77d47.css" as="style"><link rel="preload" href="/assets/js/app.1e781c0e.js" as="script"><link rel="preload" href="/assets/js/2.8b1cd733.js" as="script"><link rel="preload" href="/assets/js/46.17fb0dd5.js" as="script"><link rel="prefetch" href="/assets/js/10.bb1a8080.js"><link rel="prefetch" href="/assets/js/100.c55d6109.js"><link rel="prefetch" href="/assets/js/101.67370e2f.js"><link rel="prefetch" href="/assets/js/102.d76b31a8.js"><link rel="prefetch" href="/assets/js/103.d715ab32.js"><link rel="prefetch" href="/assets/js/104.50cb2795.js"><link rel="prefetch" href="/assets/js/105.5980a7da.js"><link rel="prefetch" href="/assets/js/106.2cdab8c2.js"><link rel="prefetch" href="/assets/js/107.24d4d0d0.js"><link rel="prefetch" href="/assets/js/108.840cfb07.js"><link rel="prefetch" href="/assets/js/109.02ae4d8f.js"><link rel="prefetch" href="/assets/js/11.15083c03.js"><link rel="prefetch" href="/assets/js/110.6abc7bc1.js"><link rel="prefetch" href="/assets/js/111.457b1631.js"><link rel="prefetch" href="/assets/js/112.e5775f3b.js"><link rel="prefetch" href="/assets/js/113.2049e7a3.js"><link rel="prefetch" href="/assets/js/114.c95d456d.js"><link rel="prefetch" href="/assets/js/115.10c74837.js"><link rel="prefetch" href="/assets/js/116.93d93c76.js"><link rel="prefetch" href="/assets/js/117.147082ff.js"><link rel="prefetch" href="/assets/js/118.bf00b42e.js"><link rel="prefetch" href="/assets/js/119.cc7e4109.js"><link rel="prefetch" href="/assets/js/12.f60c0490.js"><link rel="prefetch" href="/assets/js/120.c335c6d6.js"><link rel="prefetch" href="/assets/js/121.199fb7cd.js"><link rel="prefetch" href="/assets/js/122.8dad064c.js"><link rel="prefetch" href="/assets/js/123.153dc5f5.js"><link rel="prefetch" href="/assets/js/124.4118dd06.js"><link rel="prefetch" href="/assets/js/125.3bf9bbf5.js"><link rel="prefetch" href="/assets/js/126.3c2a4302.js"><link rel="prefetch" href="/assets/js/127.f41d79ab.js"><link rel="prefetch" href="/assets/js/128.fa88f156.js"><link rel="prefetch" href="/assets/js/129.73d879ac.js"><link rel="prefetch" href="/assets/js/13.415ae9c5.js"><link rel="prefetch" href="/assets/js/130.cdba95b2.js"><link rel="prefetch" href="/assets/js/131.e6d3f96a.js"><link rel="prefetch" href="/assets/js/132.accf3441.js"><link rel="prefetch" href="/assets/js/133.22c7528a.js"><link rel="prefetch" href="/assets/js/134.c8baffcf.js"><link rel="prefetch" href="/assets/js/135.55c3501d.js"><link rel="prefetch" href="/assets/js/136.3dccd719.js"><link rel="prefetch" href="/assets/js/137.2567893e.js"><link rel="prefetch" href="/assets/js/138.85bbd762.js"><link rel="prefetch" href="/assets/js/139.019dcf91.js"><link rel="prefetch" href="/assets/js/14.0c6ea488.js"><link rel="prefetch" href="/assets/js/140.8035c862.js"><link rel="prefetch" href="/assets/js/141.8ae73f3f.js"><link rel="prefetch" href="/assets/js/142.8153690d.js"><link rel="prefetch" href="/assets/js/143.a8c80197.js"><link rel="prefetch" href="/assets/js/144.d4393c5c.js"><link rel="prefetch" href="/assets/js/15.311a0e02.js"><link rel="prefetch" href="/assets/js/16.5364d944.js"><link rel="prefetch" href="/assets/js/17.947e8187.js"><link rel="prefetch" href="/assets/js/18.68b71525.js"><link rel="prefetch" href="/assets/js/19.176922e5.js"><link rel="prefetch" href="/assets/js/20.93b92415.js"><link rel="prefetch" href="/assets/js/21.67f1d4aa.js"><link rel="prefetch" href="/assets/js/22.4155bf1b.js"><link rel="prefetch" href="/assets/js/23.0e90c4c2.js"><link rel="prefetch" href="/assets/js/24.a54658f1.js"><link rel="prefetch" href="/assets/js/25.35cf44e0.js"><link rel="prefetch" href="/assets/js/26.a90195ee.js"><link rel="prefetch" href="/assets/js/27.d6fecd83.js"><link rel="prefetch" href="/assets/js/28.14a6ef36.js"><link rel="prefetch" href="/assets/js/29.792fc2ac.js"><link rel="prefetch" href="/assets/js/3.cb28393b.js"><link rel="prefetch" href="/assets/js/30.83582ccb.js"><link rel="prefetch" href="/assets/js/31.307a7ed6.js"><link rel="prefetch" href="/assets/js/32.cb47cd48.js"><link rel="prefetch" href="/assets/js/33.8d67c87a.js"><link rel="prefetch" href="/assets/js/34.4380dc10.js"><link rel="prefetch" href="/assets/js/35.d6513093.js"><link rel="prefetch" href="/assets/js/36.93f8359c.js"><link rel="prefetch" href="/assets/js/37.a55a6a5e.js"><link rel="prefetch" href="/assets/js/38.1780cedf.js"><link rel="prefetch" href="/assets/js/39.cd8f89ed.js"><link rel="prefetch" href="/assets/js/4.02d43310.js"><link rel="prefetch" href="/assets/js/40.5242318b.js"><link rel="prefetch" href="/assets/js/41.c18fd0af.js"><link rel="prefetch" href="/assets/js/42.e30d93c5.js"><link rel="prefetch" href="/assets/js/43.c7761445.js"><link rel="prefetch" href="/assets/js/44.1152b4fd.js"><link rel="prefetch" href="/assets/js/45.1abebb71.js"><link rel="prefetch" href="/assets/js/47.13901988.js"><link rel="prefetch" href="/assets/js/48.8c299410.js"><link rel="prefetch" href="/assets/js/49.bbc7d697.js"><link rel="prefetch" href="/assets/js/5.4fbfcbe1.js"><link rel="prefetch" href="/assets/js/50.f1654514.js"><link rel="prefetch" href="/assets/js/51.5477e3e6.js"><link rel="prefetch" href="/assets/js/52.4044446d.js"><link rel="prefetch" href="/assets/js/53.63990dfa.js"><link rel="prefetch" href="/assets/js/54.2f736219.js"><link rel="prefetch" href="/assets/js/55.b8588814.js"><link rel="prefetch" href="/assets/js/56.4e2edfd7.js"><link rel="prefetch" href="/assets/js/57.a8d9fa4a.js"><link rel="prefetch" href="/assets/js/58.414e01a8.js"><link rel="prefetch" href="/assets/js/59.7798efc0.js"><link rel="prefetch" href="/assets/js/6.66b905bf.js"><link rel="prefetch" href="/assets/js/60.fcaf78c3.js"><link rel="prefetch" href="/assets/js/61.06d7965c.js"><link rel="prefetch" href="/assets/js/62.9237e4de.js"><link rel="prefetch" href="/assets/js/63.eaad8ff3.js"><link rel="prefetch" href="/assets/js/64.bd9cf3bc.js"><link rel="prefetch" href="/assets/js/65.3cc65b93.js"><link rel="prefetch" href="/assets/js/66.643f1577.js"><link rel="prefetch" href="/assets/js/67.7433abca.js"><link rel="prefetch" href="/assets/js/68.7e1c376a.js"><link rel="prefetch" href="/assets/js/69.eab7d13f.js"><link rel="prefetch" href="/assets/js/7.1f03a9b5.js"><link rel="prefetch" href="/assets/js/70.868cf3f3.js"><link rel="prefetch" href="/assets/js/71.7f892b61.js"><link rel="prefetch" href="/assets/js/72.c0a99a1a.js"><link rel="prefetch" href="/assets/js/73.51ec29b8.js"><link rel="prefetch" href="/assets/js/74.39499d08.js"><link rel="prefetch" href="/assets/js/75.27df10fd.js"><link rel="prefetch" href="/assets/js/76.242d54d7.js"><link rel="prefetch" href="/assets/js/77.28b5088e.js"><link rel="prefetch" href="/assets/js/78.9d0b3415.js"><link rel="prefetch" href="/assets/js/79.64f8809a.js"><link rel="prefetch" href="/assets/js/8.354ea5cd.js"><link rel="prefetch" href="/assets/js/80.bbf10def.js"><link rel="prefetch" href="/assets/js/81.0261a06a.js"><link rel="prefetch" href="/assets/js/82.361f3bd9.js"><link rel="prefetch" href="/assets/js/83.0cf6c8fd.js"><link rel="prefetch" href="/assets/js/84.9de7453c.js"><link rel="prefetch" href="/assets/js/85.b8c91c08.js"><link rel="prefetch" href="/assets/js/86.6f63c4c5.js"><link rel="prefetch" href="/assets/js/87.a156e757.js"><link rel="prefetch" href="/assets/js/88.2fa3e32b.js"><link rel="prefetch" href="/assets/js/89.3b1b7446.js"><link rel="prefetch" href="/assets/js/9.711fb44c.js"><link rel="prefetch" href="/assets/js/90.5ade2fca.js"><link rel="prefetch" href="/assets/js/91.e3c2a9f6.js"><link rel="prefetch" href="/assets/js/92.9a3cc876.js"><link rel="prefetch" href="/assets/js/93.25b823a8.js"><link rel="prefetch" href="/assets/js/94.788e4f7e.js"><link rel="prefetch" href="/assets/js/95.b8c0e52b.js"><link rel="prefetch" href="/assets/js/96.913a506a.js"><link rel="prefetch" href="/assets/js/97.36fa6ccf.js"><link rel="prefetch" href="/assets/js/98.71e0e0eb.js"><link rel="prefetch" href="/assets/js/99.46d66055.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fab77d47.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">偷影子的人</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Tool/" class="nav-link">
  Tool
</a></div><div class="nav-item"><a href="/Linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/Database/" class="nav-link">
  Database
</a></div><div class="nav-item"><a href="/Web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/DevOps/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Go/" class="nav-link">
  Go
</a></li></ul></div></div><div class="nav-item"><a href="https://nav.leanway.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Tool/" class="nav-link">
  Tool
</a></div><div class="nav-item"><a href="/Linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/Database/" class="nav-link">
  Database
</a></div><div class="nav-item"><a href="/Web/" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/DevOps/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language" class="mobile-dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/Java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/Go/" class="nav-link">
  Go
</a></li></ul></div></div><div class="nav-item"><a href="https://nav.leanway.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  导航
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JDK</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>WEB</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Java/WEB/Log4j.html" class="sidebar-link">Log4j</a></li><li><a href="/Java/WEB/Web.xml.html" aria-current="page" class="active sidebar-link">Web.xml</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#加载过程" class="sidebar-link">加载过程</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#标签详解" class="sidebar-link">标签详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#display-name" class="sidebar-link">display-name</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#context-param" class="sidebar-link">context-param</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#session-config" class="sidebar-link">session-config</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#listener" class="sidebar-link">listener</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#filter" class="sidebar-link">filter</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#servlet" class="sidebar-link">servlet</a></li><li class="sidebar-sub-header"><a href="/Java/WEB/Web.xml.html#welcome-file-list" class="sidebar-link">welcome-file-list</a></li></ul></li></ul></li><li><a href="/Java/WEB/WebService.html" class="sidebar-link">WebService</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JVM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tool</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="web-xml"><a href="#web-xml" class="header-anchor">#</a> Web.xml</h1> <ul><li><a href="https://blog.csdn.net/believejava/article/details/43229361" target="_blank" rel="noopener noreferrer">Web.xml详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="加载过程"><a href="#加载过程" class="header-anchor">#</a> 加载过程</h2> <ol><li>启动 WEB 项目的时候，容器首先会去它的配置文件 web.xml 读取两个节点:  &lt;listener&gt;&lt;/listener&gt; 和 &lt;context-param&gt;&lt;/context-param&gt;。</li> <li>紧接着，容器创建一个 <span style="color:red;">ServletContext（Application）</span>，这个WEB项目所有部分都将共享这个上下文。</li> <li>容器以 &lt;context-param&gt;&lt;/context-param&gt; 的 name 作为键，value 作为值，将其转化为键值对，存入 ServletContext。</li> <li>容器创建 &lt;listener&gt;&lt;/listener&gt; 中的类实例，根据配置的 class 类路径 &lt;listener-class&gt; 来创建监听，在监听中会有contextInitialized(ServletContextEvent args) 初始化方法，启动 Web 应用时，系统调用 Listener 的该方法，在这个方法中获得：<span style="color:red;">ServletContext</span> application = ServletContextEvent.getServletContext();  <span style="color:red;">context-param 的值</span> = application.getInitParameter(&quot;context-param的键&quot;);  得到这个 context-param 的值之后，你就可以做一些操作了。</li> <li>举例：你可能想在项目启动之前就打开数据库，那么这里就可以在 &lt;context-param&gt; 中设置数据库的连接方式（驱动、url、user、password），在监听类中初始化数据库的连接。这个监听是自己写的一个类，除了初始化方法，它还有销毁方法，用于关闭应用前释放资源。比如:说数据库连接的关闭，此时，调用 contextDestroyed(ServletContextEvent args)，关闭Web应用时，系统调用Listener的该方法。</li> <li>接着，容器会读取 &lt;filter&gt;&lt;/filter&gt;，根据指定的类路径来实例化过滤器。</li> <li><span style="color:red;">以上都是在WEB项目还没有完全启动起来的时候就已经完成了的工作。</span>如果系统中有 Servlet，则 Servlet 是在第一次发起请求的时候被实例化的，而且一般不会被容器销毁，它可以服务于多个用户的请求。所以，Servlet 的初始化都要比上面提到的那几个要迟。</li> <li>总的来说，web.xml 的加载顺序是:<span style="color:red;">&lt;context-param&gt;</span><strong>-&gt;</strong><span style="color:red;">&lt;listener&gt;</span><strong>-&gt;</strong><span style="color:red;">&lt;filter&gt;</span><strong>-&gt;</strong><span style="color:red;">&lt;servlet&gt;</span>。其中，如果 web.xml 中出现了相同的元素，则按照在配置文件中出现的先后顺序来加载。</li> <li>对于某类元素而言，与它们出现的顺序是有关的。以 &lt;filter&gt;为例，web.xml 中当然可以定义多个 &lt;filter&gt;，与 &lt;filter&gt; 相关的一个元素是 &lt;filter-mapping&gt;，<strong>注意</strong>，对于拥有相同 &lt;filter-name&gt; 的 &lt;filter&gt; 和 &lt;filter-mapping&gt; 元素而言，&lt;filter-mapping&gt; 必须出现在 &lt;filter&gt; 之后，否则当解析到 &lt;filter-mapping&gt; 时，它所对应的 &lt;filter-name&gt;还未定义。web 容器启动初始化每个 &lt;filter&gt; 时，按照 &lt;filter&gt; 出现的顺序来初始化的，当请求资源匹配多个 &lt;filter-mapping&gt; 时，&lt;filter&gt; 拦截资源是按照 &lt;filter-mapping&gt; 元素出现的顺序来依次调用 doFilter() 方法的。&lt;servlet&gt; 同 &lt;filter&gt; 类似，此处不再赘述。</li></ol> <h2 id="标签详解"><a href="#标签详解" class="header-anchor">#</a> 标签详解</h2> <h3 id="display-name"><a href="#display-name" class="header-anchor">#</a> display-name</h3> <p>&lt;display-name&gt;test-hwp-web-application&lt;/display-name&gt; 定义了web应用的名称，可以在http://localhost:8080/manager/html中显示。</p> <h3 id="context-param"><a href="#context-param" class="header-anchor">#</a> context-param</h3> <ul><li>&lt;context-param&gt; 元素含有一对参数名和参数值，用作应用的 Servlet 上下文初始化参数，参数名在整个Web应用中必须是<span style="color:red;">惟一</span>的，在web应用的整个生命周期中上下文初始化参数都存在，任意的 Servlet 和 jsp 都可以随时随地访问它。</li> <li>配置 Spring，<span style="color:red;">必须需要 &lt;listener&gt;，而 &lt;context-param&gt; 可有可无</span>，如果在web.xml中不写 &lt;context-param&gt;配置信息，默认的路径是/WEB-INF/applicationContext.xml，在WEB-INF目录下创建的xml文件的名称必须是applicationContext.xml。如果是要自定义文件名可以在web.xml里加入contextConfigLocation这个context参数：在&lt;param-value&gt;&lt;/param-value&gt;里指定相应的xml文件名，如果有多个xml文件，可以写在一起并以“,”号分隔，比如在business-client工程中，我们采用了自定义配置方式，&lt;context-param&gt;配置如下：</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- spring config --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>/WEB-INF/spring-configuration/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>部署在同一容器中的多个Web项目，要配置不同的webAppRootKey，web.xml文件中最好定义webAppRootKey参数，如果不定义，将会缺省为“webapp.root”，如下：</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 应用路径  --&gt;</span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>webAppRootKey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>webapp.root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>在不同环境下如何获取</li></ul> <p>在 JSP 网页中可以使用下列方法来取得：<span style="color:red;">${initParam.param_name}</span></p> <p>在 Servlet 可以使用下列方法来获得：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> param_name <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInitParamter</span><span class="token punctuation">(</span><span class="token string">&quot;param_name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Servlet 的 ServletConfig 对象拥有该 Servlet 的 ServletContext 的一个引用</p> <p>所以可这样取得上下文初始化参数：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>也可以在Servlet中直接调用，两者是等价的</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>使用上下文初始化参数</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>webAppRootKey<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>business.root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- spring config --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:spring/spring-config.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="session-config"><a href="#session-config" class="header-anchor">#</a> session-config</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- Set timeout to 120 minutes --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-config</span><span class="token punctuation">&gt;</span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-timeout</span><span class="token punctuation">&gt;</span></span>120<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-timeout</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-config</span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><p>&lt;session-config&gt; 用于设置容器的 session 参数，比如：&lt;session-timeout&gt; 用于指定 http session 的失效时间。默认时间 30 minutes。&lt;session-timeout&gt; 用来指定默认的会话超时时间间隔，以分钟为单位。该元素值必须为整数。如果 session-timeout元素的值为零或负数，则表示会话将永远不会超时。</p> <h3 id="listener"><a href="#listener" class="header-anchor">#</a> listener</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- log4j 监听器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.util.Log4jConfigListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="listener介绍"><a href="#listener介绍" class="header-anchor">#</a> Listener介绍</h4> <p>&lt;listener&gt;为web应用程序定义监听器，监听器用来监听各种事件，比如：Application和Session事件，所有的监听器按照相同的方式定义，功能取决去它们各自实现的接口，常用的Web事件接口有如下几个：</p> <ul><li>ServletContextListener：用于监听Web Application的启动和关闭；</li> <li>ServletContextAttributeListener：用于监听ServletContext范围（Application）内属性的改变；</li> <li>ServletRequestListener：用于监听用户的请求；</li> <li>ServletRequestAttributeListener：用于监听ServletRequest范围（Request）内属性的改变；</li> <li>HttpSessionListener：用于监听用户session的开始和结束；</li> <li>HttpSessionAttributeListener：用于监听HttpSession范围（Session）内属性的改变。</li></ul> <p>&lt;listener&gt;主要用于监听Web应用事件，其中有两个比较重要的Web应用事件：<span style="color:red;">Application的启动和停止</span>（starting up or shutting down）和 <span style="color:red;">Session的创建和失效</span>（created or destroyed）。<span style="color:red;">Application启动事件发生在应用第一次被Servlet容器装载和启动的时候；停止事件发生在Web应用停止的时候。</span>Session创建事件发生在每次一个新的Session创建的时候，类似地Session失效事件发生在每次一个Session失效的时候。为了使用这些Web应用事件做些有用的事情，我们必须创建和使用一些特殊的“监听类”。它们是实现了以下两个接口中任何一个接口的简单java类：<span style="color:red;">javax.servlet.ServletContextListener</span>或<span style="color:red;">javax.servlet.http.HttpSessionListener</span>，如果想让你的类监听Application的启动和停止事件，你就得实现ServletContextListener接口；想让你的类去监听Session的创建和失效事件，那你就得实现HttpSessionListener接口。</p> <h4 id="listener配置"><a href="#listener配置" class="header-anchor">#</a> Listener配置</h4> <p>配置Listener只要向Web应用注册Listener实现类即可，无序配置参数之类的东西，因为<span style="color:red;">Listener获取的是Web应用ServletContext（Application）的配置参数。</span>为Web应用配置Listener的两种方式：</p> <ul><li>使用@WebListener修饰Listener实现类即可。</li> <li>在web.xml文档中使用&lt;listener&gt;进行配置。</li></ul> <p>我们选择web.xml这种配置方式，只有一个元素&lt;listener-class&gt;指定Listener的实现类，如下所示：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这里的&lt;listener&gt;用于Spring的加载，Spring加载可以利用<span style="color:red;">ServletContextListener</span>实现，也可以采用<span style="color:red;">load-on-startup Servlet</span> 实现，但是，当&lt;filter&gt;需要用到 bean 时，加载顺序是先加载&lt;filter&gt;后加载&lt;servlet&gt;，则&lt;filter&gt;中初始化操作中的 bean 为null；所以，如果&lt;filter&gt;中要使用到bean，此时就可以根据加载顺序&lt;listener&gt; -&gt; &lt;filter&gt; -&gt; &lt;servlet&gt;，将spring的加载改成Listener的方式。</p> <ul><li>采用load-on-startup Servlet 实现：</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>  
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-narne</span><span class="token punctuation">&gt;</span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>  
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>利用ServletContextListener实现：</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="filter"><a href="#filter" class="header-anchor">#</a> filter</h3> <div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token comment">&lt;!--****************************过滤器配置*********************************--&gt;</span>
<span class="token comment">&lt;!-- 字符集过滤器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>forceEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--****************************映射关系配置********************************--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="filter介绍"><a href="#filter介绍" class="header-anchor">#</a> Filter介绍</h4> <p>Filter可认为是Servle的一种“加强版”，主要用于对用户请求request进行预处理，也可以对Response进行后处理，是个<span style="color:red;">典型的处理链。使用Filter的完整流程是：Filter对用户请求进行预处理，接着将请求HttpServletRequest交给Servlet进行处理并生成响应，最后Filter再对服务器响应HttpServletResponse进行后处理。</span>Filter与Servlet具有完全相同的生命周期，且Filter也可以通过&lt;init-param&gt;来配置初始化参数，获取Filter的初始化参数则使用FilterConfig的getInitParameter()。</p> <p>换种说法，Servlet里有request和response两个对象，Filter能够在一个request到达Servlet之前预处理request，也可以在离开Servlet时处理response，Filter其实是一个Servlet链。以下是Filter的一些常见应用场合</p> <ul><li>认证Filter</li> <li>日志和审核Filter</li> <li>图片转换Filter</li> <li>数据压缩Filter</li> <li>密码Filter</li> <li>令牌Filter</li> <li>触发资源访问事件的Filter</li> <li>XSLT Filter</li> <li>媒体类型链Filter</li></ul> <p>Filter可负责拦截多个请求或响应；一个请求或响应也可被多个Filter拦截。创建一个Filter只需两步：</p> <ul><li>创建Filter处理类</li> <li>Web.xml文件中配置Filter</li></ul> <p>Filter必须实现javax.servlet.Filter接口，在该接口中定义了三个方法：</p> <ul><li>void init(FilterConfig config)：用于完成Filter的初始化。FilteConfig用于访问Filter的配置信息。</li> <li>void destroy()：用于Filter销毁前，完成某些资源的回收。</li> <li>void doFilter(ServletRequest request,ServletResponse response,FilterChain chain)：实现过滤功能的核心方法，该方法就是对每个请求及响应增加额外的处理。该方法实现对用户请求request进行预处理，也可以实现对服务器响应response进行后处理---它们的分界线为是否调用了chain.doFilter(request，response)，执行该方法之前，即对用户请求request进行预处理，执行该方法之后，即对服务器响应response进行后处理。</li></ul> <h4 id="filter配置"><a href="#filter配置" class="header-anchor">#</a> Filter配置</h4> <p>Filter配置与Servlet的配置非常相似，需要配置两部分：配置Filter名称和Filter拦截器URL模式。区别在于Servlet通常只配置一个URL，而Filter可以同时配置多个请求的URL。配置Filter有两种方式：</p> <ul><li>在Filter类中通过Annotation进行配置。</li> <li>在web.xml文件中通过配置文件进行配置。</li></ul> <p>我们使用的是web.xml这种配置方式，下面重点介绍&lt;filter&gt;内包含的一些元素。</p> <p>&lt;filter&gt;用于指定Web容器中的过滤器，可包含&lt;filter-name&gt;、&lt;filter-class&gt;、&lt;init-param&gt;、&lt;icon&gt;、&lt;display-name&gt;、&lt;description&gt;。</p> <ul><li>&lt;filter-name&gt;：用来定义过滤器的名称，该名称在整个程序中都必须唯一。</li> <li>&lt;filter-class&gt;：指定过滤器类的完全限定的名称，即Filter的实现类。</li> <li>&lt;init-param&gt;：为Filter配置参数，与&lt;context-param&gt;具有相同的元素描述符&lt;param-name&gt;和&lt;param-value&gt;。</li> <li>&lt;filter-mapping&gt;：用来声明Web应用中的过滤器映射，过滤器被映射到一个servlet或一个URL模式。这个过滤器的&lt;filter&gt;和&lt;filter-mapping&gt;必须具有相同的&lt;filter-name&gt;，指定该Filter所拦截的URL。过滤是按照部署描述符的&lt;filter-mapping&gt;出现的顺序执行的。</li></ul> <h5 id="字符集过滤器"><a href="#字符集过滤器" class="header-anchor">#</a> 字符集过滤器</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>forceEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>CharacterEncodingFilter类可以通过简单配置来帮我们实现字符集转换的功能。</li> <li>参数encoding用于指定编码类型，参数forceEncoding设为true时，强制执行request.setCharacterEncoding(this.encoding)和reponse.setCharacterEncoding(this.encoding)中的方法。</li></ul> <h5 id="缓存控制"><a href="#缓存控制" class="header-anchor">#</a> 缓存控制</h5> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>NoCache Filter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>com.yonyou.mcloud.cas.client.authentication.NoCacheFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>NoCache Filter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!—表示对URL全部过滤--</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="servlet"><a href="#servlet" class="header-anchor">#</a> servlet</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>spring-mvc-control<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>publishContext<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>spring-mvc-control<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- /  即表示拦截所有请求，但不拦截 jsp --&gt;</span>
    <span class="token comment">&lt;!-- /* 即表示所有的都拦截，包括 jsp --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="servlet介绍"><a href="#servlet介绍" class="header-anchor">#</a> Servlet介绍</h4> <p>Servlet通常称为服务器端小程序，是运行在服务器端的程序，用于处理及响应客户的请求。Servlet是个特殊的java类，继承于<span style="color:red;">HttpServlet</span>。客户端通常只有GET和POST两种请求方式，Servlet为了响应这两种请求，必须重写doGet()和doPost()方法。大部分时候，Servlet对于所有的请求响应都是完全一样的，此时<span style="color:red;">只需要重写service()方法即可响应客户端的所有请求。</span>另外，HttpServlet有两个方法：</p> <ul><li>init(ServletConfig config)：创建Servlet实例时，调用该方法来<span style="color:red;">初始化Servlet资源</span>。</li> <li>destroy()：销毁Servlet实例时，自动调用该方法来回收资源。</li></ul> <p>通常无需重写init()和destroy()两个方法，除非需要在初始化Servlet时，完成某些资源初始化的方法，才考虑重写init()方法，<span style="color:red;">如果重写了init()方法，应在重写该方法的第一行调用super.init(config)，该方法将调用HttpServlet的init()方法。</span>如果需要在销毁Servlet之前，先完成某些资源的回收，比如关闭数据库连接，才需要重写destory方法()。</p> <p>Servlet的生命周期，创建Servlet实例有两个时机：</p> <ul><li>客户端第一次请求某个Servlet时，系统创建该Servlet的实例，大部分Servlet都是这种Servlet。</li> <li>Web应用启动时立即创建Servlet实例，即load-on-start Servlet。</li></ul> <p>每个Servlet的运行都遵循如下生命周期：</p> <ul><li><span style="color:red;">创建Servlet实例</span>。</li> <li>Web容器<span style="color:red;">调用Servlet的init()方法</span>，对Servlet进行初始化。</li> <li>Servlet初始化后，将一直存在于容器中，用于<span style="color:red;">响应客户端请求</span>，如果客户端发送GET请求，容器调用Servlet的doGet()方法处理并响应请求；如果客户端发送POST请求，容器调用Servlet的doPost()方法处理并响应请求。或者统一使用service()方法处理来响应用户请求。</li> <li>Web容器决定销毁Servlet时，<span style="color:red;">先调用Servlet的destory()方法</span>，通常在关闭Web应用时<span style="color:red;">销毁Servlet实例</span>。</li></ul> <h4 id="servlet配置"><a href="#servlet配置" class="header-anchor">#</a> Servlet配置</h4> <p>为了让Servlet能响应用户请求，还必须将Servlet配置在web应用中，配置Servlet需要修改web.xml文件。从Servlet3.0开始，配置Servlet有两种方式：</p> <ul><li>在Servlet类中使用@WebServlet Annotation进行配置。</li> <li>在web.xml文件中进行配置。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
* 使用@WebServlet注解配置WxServlet,urlPatterns属性指明了WxServlet的访问路径
*/</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns<span class="token operator">=</span><span class="token string">&quot;/WxServlet&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>我们用web.xml文件来配置Servlet，需要配置&lt;servlet&gt;和&lt;servlet-mapping&gt;。&lt;servlet&gt;用来声明一个Servlet。&lt;icon&gt;、&lt;display-name&gt;和&lt;description&gt;元素的用法和&lt;filter&gt;的用法相同。&lt;init-param&gt;元素与&lt;context-param&gt;元素具有相同的元素描述符，可以使用&lt;init-param&gt;子元素将初始化参数名和参数值传递给Servlet，访问Servlet配置参数通过ServletConfig对象来完成，ServletConfig提供如下方法：</p> <p><span style="color:red;">java.lang.String.getInitParameter(java.lang.String name)，用于获取初始化参数。</span>ServletConfig获取配置参数的方法和ServletContext获取配置参数的方法完全一样，只是ServletConfig是取得当前Servlet的配置参数，而ServletContext是获取整个Web应用的配置参数。</p> <h5 id="description-、-display-name-和-icon"><a href="#description-、-display-name-和-icon" class="header-anchor">#</a> &lt;description&gt;、&lt;display-name&gt;和&lt;icon&gt;</h5> <ul><li>&lt;description&gt;：为Servlet指定一个文本描述。</li> <li>&lt;display-name&gt;：为Servlet提供一个简短的名字被某些工具显示。</li> <li>&lt;icon&gt;：为Servlet指定一个图标，在图形管理工具中表示该Servlet。</li></ul> <h5 id="servlet-name-、-servlet-class-和-jsp-file-元素"><a href="#servlet-name-、-servlet-class-和-jsp-file-元素" class="header-anchor">#</a> &lt;servlet-name&gt;、&lt;servlet-class&gt;和&lt;jsp-file&gt;元素</h5> <p>&lt;servlet&gt;必须含有&lt;servlet-name&gt;和&lt;servlet-class&gt;，或者&lt;servlet-name&gt;和&lt;jsp-file&gt;。 描述如下：</p> <ul><li>&lt;servlet-name&gt;：用来定义servlet的名称，该名称在整个应用中必须是惟一的。</li> <li>&lt;servlet-class&gt;：用来指定servlet的完全限定的名称。</li> <li>&lt;jsp-file&gt;：用来指定应用中JSP文件的完整路径。这个完整路径必须由/开始。</li></ul> <h5 id="load-on-startup"><a href="#load-on-startup" class="header-anchor">#</a> &lt;load-on-startup&gt;</h5> <p>如果load-on-startup元素存在，而且也指定了jsp-file元素，则JSP文件会被重新编译成Servlet，同时产生的Servlet也被载入内存。&lt;load-on-startup&gt;的内容可以为空，或者是一个整数。这个值表示由Web容器载入内存的顺序。</p> <p>举个例子：如果有素两个Servlet元素都含有&lt;load-on-startup&gt;子元，则&lt;load-on-startup&gt;子元素值较小的Servlet将先被加载。如果&lt;load-on-startup&gt;子元素值为空或负值，则由Web容器决定什么时候加载Servlet。如果两个Servlet的&lt;load-on-startup&gt;子元素值相同，则由Web容器决定先加载哪一个Servlet。&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;表示启动容器时，初始化Servlet。</p> <h5 id="servlet-mapping"><a href="#servlet-mapping" class="header-anchor">#</a> &lt;servlet-mapping&gt;</h5> <p>&lt;servlet-mapping&gt;含有&lt;servlet-name&gt;和&lt;url-pattern&gt;</p> <ul><li>&lt;servlet-name&gt;：Servlet的名字，唯一性和一致性，与&lt;servlet&gt;元素中声明的名字一致。</li> <li>&lt;url-pattern&gt;：指定相对于Servlet的URL的路径。该路径相对于web应用程序上下文的根路径。&lt;servlet-mapping&gt;将URL模式映射到某个Servlet，即该Servlet处理的URL。</li></ul> <p>匹配规则和顺序如下：</p> <ol><li><strong>精确路径匹配</strong>。例子：比如servletA 的url-pattern为 /test，servletB的url-pattern为 /* ，这个时候，如果我访问的url为http://localhost/test ，这个时候容器就会先进行精确路径匹配，发现/test正好被servletA精确匹配，那么就去调用servletA，也不会去理会其他的servlet了。</li> <li><strong>最长路径匹配</strong>。例子：servletA的url-pattern为/test/*，而servletB的url-pattern为/test/a/*，此时访问http://localhost/test/a时，容器会选择路径最长的servlet来匹配，也就是这里的servletB。</li> <li><strong>扩展匹配</strong>。如果url最后一段包含扩展，容器将会根据扩展选择合适的servlet。例子：servletA的url-pattern：*.action</li> <li>如果前面三条规则都没有找到一个servlet，容器会根据url选择对应的请求资源。如果应用定义了一个default servlet，则容器会将请求丢给default servlet。</li></ol> <p>根据这个规则表，就能很清楚的知道servlet的匹配过程，所以定义servlet的时候也要考虑url-pattern的写法，以免出错。</p> <p>对于filter，不会像servlet那样只匹配一个servlet，因为filter的集合是一个链，所以只会有处理的顺序不同，而不会出现只选择一个filter。Filter的处理顺序和filter-mapping在web.xml中定义的顺序相同。</p> <h5 id="加载servlet的过程"><a href="#加载servlet的过程" class="header-anchor">#</a> 加载Servlet的过程</h5> <p>容器的Context对象对请求路径(URL)做出处理，去掉请求URL的上下文路径后，按路径映射规则和Servlet映射路径（&lt;url-pattern&gt;）做匹配，如果匹配成功，则调用这个Servlet处理请求。</p> <h4 id="dispatcherservlet在web-xml中的配置"><a href="#dispatcherservlet在web-xml中的配置" class="header-anchor">#</a> DispatcherServlet在web.xml中的配置</h4> <div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token comment">&lt;!-- Spring view分发器  对所有的请求都由business对应的类来控制转发 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>business<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>publishContext<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>配置Spring MVC，指定处理请求的Servlet，有两种方式：</p> <ul><li>默认查找MVC配置文件的地址是：/WEB-INF/${servletName}-servlet.xml</li> <li>可以通过配置修改MVC配置文件的位置，需要在配置DispatcherServlet时指定MVC配置文件的位置。</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>publishContext<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>  
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:config/spring-servlet.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>其中，<span style="color:red;">classpath</span>是web项目的类路径，可以理解为classes下面。因为无论这些配置文件放在哪，编译之后如果没有特殊情况的话都直接在classes下面。jar包的话虽然放在lib文件夹里，但实际上那些类可以直接引用，比如：com.test.ABC，仿佛也在classes下面一样。</p> <p>**classpath和classpath*区别：**同名资源存在时，classpath只从第一个符合条件的classpath中加载资源，而classpath*会从所有的classpath中加载符合条件的资源。classpath*，需要遍历所有的classpath，效率肯定比不上classpath，因此在项目设计的初期就尽量规划好资源文件所在的路径，避免使用classpath*来加载。</p> <h4 id="contextloaderlistener和dispatcherservlet初始化上下文关系和区别"><a href="#contextloaderlistener和dispatcherservlet初始化上下文关系和区别" class="header-anchor">#</a> ContextLoaderListener和DispatcherServlet初始化上下文关系和区别</h4> <p>ContextLoaderListener初始化的上下文加载的Bean是对于整个应用程序共享的，一般如：DAO层、Service层Bean；DispatcherServlet初始化的上下文加载的Bean是只对Spring MVC有效的Bean，如：Controller、HandlerMapping、HandlerAdapter等，该初始化上下文只加载Web相关组件。</p> <p>**注意：**用户可以配置多个DispatcherServlet来分别处理不同的url请求，每个DispatcherServlet上下文都对应一个自己的子Spring容器，他们都拥有相同的父Spring容器（业务层，持久（dao）bean所在的容器）。</p> <h3 id="welcome-file-list"><a href="#welcome-file-list" class="header-anchor">#</a> welcome-file-list</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- welcome page --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>&lt;welcome-file-list&gt;包含一个子元素&lt;welcome-file&gt;，&lt;welcome-file&gt;用来指定首页文件名称。&lt;welcome-file-list&gt;元素可以包含一个或多个&lt;welcome-file&gt;子元素。如果在第一个&lt;welcome-file&gt;元素中没有找到指定的文件，Web容器就会尝试显示第二个，以此类推。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/14/2021, 12:10:31 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Java/WEB/Log4j.html" class="prev">
        Log4j
      </a></span> <span class="next"><a href="/Java/WEB/WebService.html">
        WebService
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.1e781c0e.js" defer></script><script src="/assets/js/2.8b1cd733.js" defer></script><script src="/assets/js/46.17fb0dd5.js" defer></script>
  </body>
</html>
